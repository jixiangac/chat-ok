/**
 * 紫微斗数常量定义
 */

import type { PalaceKey } from './types';

// 十天干
export const HEAVENLY_STEMS = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸'];

// 十二地支
export const EARTHLY_BRANCHES = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥'];

// 十二生肖
export const ZODIACS = ['鼠', '牛', '虎', '兔', '龙', '蛇', '马', '羊', '猴', '鸡', '狗', '猪'];

// 十二宫位名称
export const PALACE_NAMES: Record<PalaceKey, string> = {
  ming: '命宫',
  xiongdi: '兄弟',
  fuqi: '夫妻',
  zinv: '子女',
  caibo: '财帛',
  jie: '疾厄',
  qianyi: '迁移',
  jiaoyou: '交友',
  shiye: '事业',
  tianzhai: '田宅',
  fude: '福德',
  fumu: '父母',
};

// 宫位顺序（逆时针，从寅宫开始）
export const PALACE_ORDER: PalaceKey[] = [
  'ming', 'fumu', 'fude', 'tianzhai', 'shiye', 'jiaoyou',
  'qianyi', 'jie', 'caibo', 'zinv', 'fuqi', 'xiongdi',
];

// 十四主星
export const MAJOR_STARS = [
  '紫微', '天机', '太阳', '武曲', '天同', '廉贞', '天府',
  '太阴', '贪狼', '巨门', '天相', '天梁', '七杀', '破军',
];

// 辅星
export const MINOR_STARS = [
  '文昌', '文曲', '左辅', '右弼', '天魁', '天钺',
  '擎羊', '陀罗', '火星', '铃星', '天空', '地劫',
  '禄存', '天马', '红鸾', '天喜', '孤辰', '寡宿',
];

// 四化
export const HUA_STARS = ['化禄', '化权', '化科', '化忌'];

// 五行局
export const WUXING_JU = ['水二局', '木三局', '金四局', '土五局', '火六局'];

// 时辰对照（24小时制 -> 地支时辰）
export const HOUR_TO_BRANCH: Record<number, number> = {
  23: 0, 0: 0,   // 子时 23:00-01:00
  1: 1, 2: 1,    // 丑时 01:00-03:00
  3: 2, 4: 2,    // 寅时 03:00-05:00
  5: 3, 6: 3,    // 卯时 05:00-07:00
  7: 4, 8: 4,    // 辰时 07:00-09:00
  9: 5, 10: 5,   // 巳时 09:00-11:00
  11: 6, 12: 6,  // 午时 11:00-13:00
  13: 7, 14: 7,  // 未时 13:00-15:00
  15: 8, 16: 8,  // 申时 15:00-17:00
  17: 9, 18: 9,  // 酉时 17:00-19:00
  19: 10, 20: 10, // 戌时 19:00-21:00
  21: 11, 22: 11, // 亥时 21:00-23:00
};

// 时辰名称
export const HOUR_NAMES = [
  '子时 (23:00-01:00)',
  '丑时 (01:00-03:00)',
  '寅时 (03:00-05:00)',
  '卯时 (05:00-07:00)',
  '辰时 (07:00-09:00)',
  '巳时 (09:00-11:00)',
  '午时 (11:00-13:00)',
  '未时 (13:00-15:00)',
  '申时 (15:00-17:00)',
  '酉时 (17:00-19:00)',
  '戌时 (19:00-21:00)',
  '亥时 (21:00-23:00)',
];

// 主要城市经纬度（用于真太阳时校正）
export const CITY_COORDINATES: Record<string, { lng: number; lat: number; name: string }> = {
  // 直辖市
  beijing: { lng: 116.4074, lat: 39.9042, name: '北京' },
  shanghai: { lng: 121.4737, lat: 31.2304, name: '上海' },
  tianjin: { lng: 117.1901, lat: 39.1256, name: '天津' },
  chongqing: { lng: 106.5516, lat: 29.5630, name: '重庆' },

  // 省会城市
  guangzhou: { lng: 113.2644, lat: 23.1291, name: '广州' },
  shenzhen: { lng: 114.0579, lat: 22.5431, name: '深圳' },
  hangzhou: { lng: 120.1551, lat: 30.2741, name: '杭州' },
  nanjing: { lng: 118.7969, lat: 32.0603, name: '南京' },
  wuhan: { lng: 114.3055, lat: 30.5928, name: '武汉' },
  chengdu: { lng: 104.0665, lat: 30.5723, name: '成都' },
  xian: { lng: 108.9402, lat: 34.3416, name: '西安' },
  changsha: { lng: 112.9388, lat: 28.2282, name: '长沙' },
  zhengzhou: { lng: 113.6254, lat: 34.7466, name: '郑州' },
  jinan: { lng: 117.1205, lat: 36.6512, name: '济南' },
  shenyang: { lng: 123.4315, lat: 41.8057, name: '沈阳' },
  harbin: { lng: 126.5358, lat: 45.8038, name: '哈尔滨' },
  changchun: { lng: 125.3245, lat: 43.8868, name: '长春' },
  shijiazhuang: { lng: 114.5149, lat: 38.0428, name: '石家庄' },
  taiyuan: { lng: 112.5489, lat: 37.8706, name: '太原' },
  hohhot: { lng: 111.6708, lat: 40.8183, name: '呼和浩特' },
  hefei: { lng: 117.2272, lat: 31.8206, name: '合肥' },
  fuzhou: { lng: 119.2965, lat: 26.0745, name: '福州' },
  nanchang: { lng: 115.8579, lat: 28.6829, name: '南昌' },
  kunming: { lng: 102.8329, lat: 24.8801, name: '昆明' },
  guiyang: { lng: 106.6302, lat: 26.6477, name: '贵阳' },
  nanning: { lng: 108.3200, lat: 22.8240, name: '南宁' },
  haikou: { lng: 110.1999, lat: 20.0444, name: '海口' },
  lanzhou: { lng: 103.8343, lat: 36.0611, name: '兰州' },
  xining: { lng: 101.7782, lat: 36.6171, name: '西宁' },
  yinchuan: { lng: 106.2309, lat: 38.4872, name: '银川' },
  urumqi: { lng: 87.6168, lat: 43.8256, name: '乌鲁木齐' },
  lhasa: { lng: 91.1409, lat: 29.6500, name: '拉萨' },

  // 特别行政区和台湾
  hongkong: { lng: 114.1694, lat: 22.3193, name: '香港' },
  macau: { lng: 113.5439, lat: 22.1987, name: '澳门' },
  taipei: { lng: 121.5654, lat: 25.0330, name: '台北' },
};

// 城市列表（用于下拉选择）
export const CITY_LIST = Object.entries(CITY_COORDINATES).map(([key, value]) => ({
  key,
  name: value.name,
}));

// 年份范围
export const YEAR_RANGE = {
  min: 1900,
  max: 2100,
};

// 步骤进度映射
export const PAGE_STEP_MAP = {
  intro: 1,
  input: 2,
  result: 3,
  analysis: 4,
};

// 本地存储键名
export const STORAGE_KEY = 'dc_ziwei_data';

// 紫微入口图标
export const ZIWEI_ICON_URL = 'https://gw.alicdn.com/imgextra/i1/O1CN01rsx1k21rO10eJEV9y_!!6000000005620-2-tps-1080-966.png';

// 紫微主星亮度等级
export const STAR_BRIGHTNESS: Record<string, Record<string, string>> = {
  '紫微': { '子': '旺', '丑': '旺', '寅': '平', '卯': '平', '辰': '旺', '巳': '庙', '午': '旺', '未': '旺', '申': '平', '酉': '平', '戌': '旺', '亥': '庙' },
  '天机': { '子': '庙', '丑': '陷', '寅': '平', '卯': '庙', '辰': '旺', '巳': '平', '午': '庙', '未': '陷', '申': '平', '酉': '庙', '戌': '旺', '亥': '平' },
  '太阳': { '子': '陷', '丑': '陷', '寅': '平', '卯': '庙', '辰': '旺', '巳': '庙', '午': '庙', '未': '旺', '申': '平', '酉': '陷', '戌': '陷', '亥': '陷' },
  '武曲': { '子': '旺', '丑': '庙', '寅': '平', '卯': '平', '辰': '旺', '巳': '平', '午': '旺', '未': '庙', '申': '平', '酉': '平', '戌': '旺', '亥': '平' },
  '天同': { '子': '庙', '丑': '平', '寅': '陷', '卯': '平', '辰': '平', '巳': '庙', '午': '陷', '未': '平', '申': '陷', '酉': '平', '戌': '平', '亥': '庙' },
  '廉贞': { '子': '平', '丑': '平', '寅': '庙', '卯': '陷', '辰': '平', '巳': '陷', '午': '平', '未': '平', '申': '庙', '酉': '陷', '戌': '平', '亥': '陷' },
  '天府': { '子': '庙', '丑': '旺', '寅': '庙', '卯': '旺', '辰': '庙', '巳': '旺', '午': '庙', '未': '旺', '申': '庙', '酉': '旺', '戌': '庙', '亥': '旺' },
  '太阴': { '子': '庙', '丑': '庙', '寅': '旺', '卯': '平', '辰': '陷', '巳': '陷', '午': '陷', '未': '陷', '申': '平', '酉': '旺', '戌': '庙', '亥': '庙' },
  '贪狼': { '子': '庙', '丑': '平', '寅': '庙', '卯': '平', '辰': '旺', '巳': '平', '午': '庙', '未': '平', '申': '旺', '酉': '平', '戌': '庙', '亥': '平' },
  '巨门': { '子': '旺', '丑': '庙', '寅': '平', '卯': '庙', '辰': '平', '巳': '陷', '午': '旺', '未': '庙', '申': '平', '酉': '庙', '戌': '平', '亥': '陷' },
  '天相': { '子': '庙', '丑': '庙', '寅': '平', '卯': '庙', '辰': '平', '巳': '平', '午': '庙', '未': '庙', '申': '平', '酉': '庙', '戌': '平', '亥': '平' },
  '天梁': { '子': '庙', '丑': '庙', '寅': '平', '卯': '庙', '辰': '陷', '巳': '庙', '午': '庙', '未': '庙', '申': '平', '酉': '庙', '戌': '陷', '亥': '庙' },
  '七杀': { '子': '庙', '丑': '旺', '寅': '庙', '卯': '旺', '辰': '平', '巳': '平', '午': '庙', '未': '旺', '申': '庙', '酉': '旺', '戌': '平', '亥': '平' },
  '破军': { '子': '旺', '丑': '平', '寅': '平', '卯': '陷', '辰': '旺', '巳': '平', '午': '旺', '未': '平', '申': '平', '酉': '陷', '戌': '旺', '亥': '平' },
};

// 分析报告 Tab 配置
export const ANALYSIS_TABS = [
  { key: 'wealth', label: '财运分析', icon: '💰' },
  { key: 'emotion', label: '感情分析', icon: '❤️' },
  { key: 'career', label: '事业分析', icon: '💼' },
] as const;
