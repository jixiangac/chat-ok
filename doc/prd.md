## 产品概述

### 核心理念

度假模式是一个专为**旅行规划与行程管理**设计的独立模块。它与常规模式完全独立、互不影响，用户可以在管理日常目标的同时，随时创建和查看旅行行程。通过多日程+多目标的灵活结构，帮助用户轻松管理从出发准备到旅途中的每一个环节。

**设计哲学**：让旅行井井有条——每个时刻，都有明确的安排。

### 产品定位

| 维度 | 常规模式 | 度假模式 |
| --- | --- | --- |
| **核心用途** | 长期目标管理 | 旅行行程规划 |
| **任务结构** | 1主线 + 多支线 | 多日程 + 多时间目标 |
| **时间维度** | 10天周期 | 自定义旅行天数 |
| **任务特点** | 习惯养成、目标达成 | 时间节点、具体事项 |
| **展示方式** | 任务列表 | 时间轴/日程表 |
| **相互关系** | 独立运行 | 独立运行 |

### 模式共存机制

**🔑 核心原则：两个模式完全独立，互不影响**

- ✅ 开启度假模式不会暂停常规模式的任何任务

- ✅ 常规模式的打卡、积分、周期继续正常运行

- ✅ 可以随时在两个模式之间自由切换查看

- ✅ 两个模式的数据各自独立统计

### 目标用户场景

- ✈️ 国内外旅行，需要规划详细行程

- 🚗 自驾游，管理每日路线和停靠点

- 🎒 背包旅行，记录交通、住宿、景点时间

- 🏢 出差行程，安排会议和交通衔接

- 🎉 节假日出游，规划家庭活动安排

---

## 行程结构设计

### 整体架构

```plaintext
度假模式
├── 出发准备（可选）
│   ├── 目标1：12:00 买飞机票
│   ├── 目标2：14:00 整理行李
│   ├── 目标3：16:00 打车去机场
│   └── 目标4：18:00 到达机场
│
├── Day 1（第一天）
│   ├── 目标1：06:00 到车站
│   ├── 目标2：08:00 到动物园
│   └── 目标3：12:00 吃午餐
│
├── Day 2（第二天）
│   ├── 目标1：06:00 起床
│   └── 目标2：08:00 坐飞机
│
└── Day N...
```

### 日程类型

| 日程类型 | 说明 | 使用场景 |
| --- | --- | --- |
| **出发准备** | 旅行前的准备事项 | 买票、收拾行李、出发 |
| **Day N** | 旅行中的每一天 | 景点、餐饮、交通安排 |
| **返程日** | 最后一天的安排 | 退房、返程交通 |

### 目标（Goal）结构

每个目标包含以下属性：

| 属性 | 必填 | 说明 | 示例 |
| --- | --- | --- | --- |
| **时间** | ✅ | 计划执行时间 | 12:00、08:30 |
| **内容** | ✅ | 具体事项描述 | 买飞机票、到动物园 |
| **地点** | ❌ | 可选位置信息 | 吉林机场、XX餐厅 |
| **备注** | ❌ | 补充说明 | 航班号、预订信息 |
| **状态** | 自动 | 完成/未完成 | ✅ / ○ |

---

## 模式切换机制

### 一键切换入口

```plaintext
┌─────────────────────────────────────┐
│  首页右上角                          │
│  ┌─────┐                            │
│  │ 🏝️ │  ← 度假模式切换按钮          │
│  └─────┘                            │
│                                      │
│  或                                  │
│                                      │
│  底部导航栏 → 度假模式标签            │
└─────────────────────────────────────┘
```

### 切换流程

```plaintext
点击度假模式按钮
    ↓
进入度假模式界面
    ↓
选择「创建新行程」或「查看已有行程」
    ↓
设置行程基本信息（新建时）
  - 行程名称（如：云南之旅）
  - 旅行天数
  - 出发日期
    ↓
进入行程编辑/查看
```

**💡 切换说明**：切换到度假模式只是切换界面视图，常规模式的所有任务继续在后台正常运行，互不影响。

### 创建行程弹窗

```plaintext
┌─────────────────────────────────────┐
│  🏝️ 创建旅行行程                     │
├─────────────────────────────────────┤
│                                      │
│  行程名称：                          │
│  ┌─────────────────────────────┐    │
│  │  云南之旅                    │    │
│  └─────────────────────────────┘    │
│                                      │
│  出发日期：                          │
│  ┌─────────────────────────────┐    │
│  │  2025年1月15日        📅    │    │
│  └─────────────────────────────┘    │
│                                      │
│  旅行天数：                          │
│  ┌─────────────────────────────┐    │
│  │  5 天  ▼                    │    │
│  └─────────────────────────────┘    │
│                                      │
│  ☑️ 添加「出发准备」日程              │
│                                      │
│  ┌─────────┐    ┌─────────────┐     │
│  │  取消   │    │ 创建行程 ✈️ │     │
│  └─────────┘    └─────────────┘     │
└─────────────────────────────────────┘
```

---

## 度假模式主界面

### 界面布局

```plaintext
┌─────────────────────────────────────┐
│  ← 云南之旅              Day 2/5 🏝️ │
├─────────────────────────────────────┤
│                                      │
│  🐱 猫咪旅行形象                     │
│  ┌───────────────────────────────┐  │
│  │      😺✈️🧳                    │  │
│  │   「今天的行程安排好啦~」       │  │
│  └───────────────────────────────┘  │
│                                      │
│  📅 日程切换                         │
│  ┌─────────────────────────────────┐│
│  │ 准备 │ D1 │ D2 │ D3 │ D4 │ D5 ││
│  │  ✓  │ ✓  │ ●  │    │    │    ││
│  └─────────────────────────────────┘│
│                                      │
│  📋 Day 2 行程安排                   │
│  ┌───────────────────────────────┐  │
│  │  06:00  ✅ 起床洗漱             │  │
│  │  ───────────────────────────  │  │
│  │  07:00  ✅ 酒店早餐             │  │
│  │  ───────────────────────────  │  │
│  │  08:30  ○  出发去洱海           │  │
│  │         📍 大理古城出发         │  │
│  │  ───────────────────────────  │  │
│  │  12:00  ○  环海午餐             │  │
│  │         📍 双廊古镇             │  │
│  │  ───────────────────────────  │  │
│  │  18:00  ○  返回酒店             │  │
│  └───────────────────────────────┘  │
│                                      │
│  ┌─────────────────────────────┐    │
│  │     + 添加新目标              │    │
│  └─────────────────────────────┘    │
│                                      │
│  今日进度：2/5 完成    旅行积分：180 │
└─────────────────────────────────────┘
```

### 日程切换栏

```plaintext
┌─────────────────────────────────────┐
│  准备  │  D1  │  D2  │  D3  │  D4  │
│   ✓   │  ✓   │  ●   │      │      │
└─────────────────────────────────────┘

图例：
✓ = 该日程已全部完成
● = 当前日程（今天）
空 = 未来日程
```

### 时间轴目标展示

每个目标卡片包含：

```plaintext
┌───────────────────────────────────┐
│  08:30  ○  出发去洱海              │
│         📍 大理古城出发            │
│         📝 记得带防晒霜            │
│                                   │
│         [完成 ✓]  [编辑 ✏️]        │
└───────────────────────────────────┘

状态说明：
○ = 未完成
✅ = 已完成
⏰ = 即将到时间（30分钟内）
```

---

## 目标管理功能

### 添加新目标

```plaintext
┌─────────────────────────────────────┐
│  ➕ 添加行程目标                     │
├─────────────────────────────────────┤
│                                      │
│  所属日程：                          │
│  ┌─────────────────────────────┐    │
│  │  Day 2  ▼                   │    │
│  └─────────────────────────────┘    │
│                                      │
│  计划时间：                          │
│  ┌─────────────────────────────┐    │
│  │  14:00                      │    │
│  └─────────────────────────────┘    │
│                                      │
│  目标内容：                          │
│  ┌─────────────────────────────┐    │
│  │  参观蝴蝶泉                  │    │
│  └─────────────────────────────┘    │
│                                      │
│  地点（选填）：                       │
│  ┌─────────────────────────────┐    │
│  │  大理蝴蝶泉景区              │    │
│  └─────────────────────────────┘    │
│                                      │
│  备注（选填）：                       │
│  ┌─────────────────────────────┐    │
│  │  门票60元，记得带学生证       │    │
│  └─────────────────────────────┘    │
│                                      │
│  ┌─────────────────────────────┐    │
│  │          添加目标            │    │
│  └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

### 目标操作

| 操作 | 触发方式 | 说明 |
| --- | --- | --- |
| **完成** | 点击「完成 ✓」 | 标记目标为已完成 |
| **编辑** | 点击「编辑 ✏️」 | 修改时间、内容等 |
| **删除** | 左滑删除 | 删除该目标 |
| **调整顺序** | 长按拖动 | 调整同日程内顺序 |
| **移动日程** | 编辑时更改 | 移至其他日程 |

### 快捷操作

- **批量添加**：一次性添加多个时间目标

- **复制日程**：将某天的安排复制到另一天

- **模板保存**：将当前行程保存为模板

---

## 行程模板系统

### 预设模板

| 模板类型 | 示例 | 适用场景 |
| --- | --- | --- |
| **周末短途** | 2天1夜模板 | 周边城市游 |
| **长假旅行** | 5-7天模板 | 国内长途游 |
| **出差商务** | 3天模板 | 商务出差 |
| **自驾游** | 灵活天数 | 公路旅行 |

### 模板结构示例

**周末短途 2天1夜**：

```plaintext
出发准备：
- 08:00 出发
- 12:00 到达目的地

Day 1：
- 14:00 入住酒店
- 15:00 景点游览
- 18:00 晚餐
- 20:00 夜景/休息

Day 2：
- 08:00 早餐
- 09:00 景点游览
- 12:00 午餐
- 14:00 返程
```

---

## 积分与养成系统

### 旅行积分规则

| 行为类型 | 单次积分 | 说明 |
| --- | --- | --- |
| **完成目标** | +10分 | 每完成一个时间目标 |
| **日程全完成** | +30分（额外） | 当天所有目标完成 |
| **行程全完成** | +100分（额外） | 整个旅行行程完成 |

**💡 积分说明**：旅行积分与常规模式积分各自独立统计，但都会累加到总积分中，用于猫咪养成。

### 旅行特别奖励

| 成就 | 奖励积分 | 触发条件 |
| --- | --- | --- |
| 完美旅程 | +200分 | 行程100%完成 |
| 旅行达人 | 徽章 | 累计完成3次旅行行程 |
| 环球旅行家 | 徽章 | 累计完成10次旅行行程 |

### 猫咪旅行状态

| 场景 | 猫咪表现 | 触发条件 |
| --- | --- | --- |
| **出发准备** | 背着小书包，兴奋期待 | 进入度假模式 |
| **旅行中** | 戴着遮阳帽，拿着地图 | Day N 进行中 |
| **完成目标** | 开心拍照留念 | 完成一个目标 |
| **日程完成** | 在景点前比耶 | 当日全部完成 |
| **旅行结束** | 拖着行李箱，恋恋不舍 | 行程结束 |

---

## 提醒通知机制

### 智能提醒

| 提醒类型 | 提前时间 | 说明 |
| --- | --- | --- |
| **目标提醒** | 30分钟前 | 下一个目标即将开始 |
| **重要提醒** | 自定义 | 飞机、火车等重要节点 |
| **日程回顾** | 每晚21:00 | 今日完成情况，明日预览 |

### 提醒设置

```plaintext
┌─────────────────────────────────────┐
│  🔔 提醒设置                         │
├─────────────────────────────────────┤
│                                      │
│  目标提醒：                          │
│  ☑️ 提前30分钟提醒                   │
│  ☑️ 到达时间提醒                     │
│                                      │
│  每日提醒：                          │
│  ☑️ 早间行程预览（08:00）            │
│  ☑️ 晚间行程回顾（21:00）            │
│                                      │
│  猫咪语音提醒：                       │
│  ○ 关闭  ● 开启                      │
└─────────────────────────────────────┘
```

---

## 切换回常规模式

### 自由切换

```plaintext
点击左上角返回按钮 / 底部导航栏
    ↓
直接返回常规模式界面
    ↓
常规模式任务正常显示（从未中断）
```

**💡 说明**：切换回常规模式就是简单的界面切换，不涉及任何恢复或同步操作，因为两个模式本就独立运行。

### 行程结束总结

当一个旅行行程全部完成时，会弹出旅行总结：

```plaintext
┌─────────────────────────────────────┐
│  🏝️ 旅行总结 - 云南之旅              │
├─────────────────────────────────────┤
│                                      │
│  📅 旅行时间：1月15日 - 1月19日       │
│  📍 旅行天数：5 天                    │
│                                      │
│  📊 完成情况                         │
│  ┌───────────────────────────────┐  │
│  │  总目标：32 个                  │  │
│  │  已完成：30 个                  │  │
│  │  完成率：93.75%                 │  │
│  └───────────────────────────────┘  │
│                                      │
│  📈 每日完成率                       │
│  ┌───────────────────────────────┐  │
│  │  准备  D1   D2   D3   D4   D5  │  │
│  │  100% 100% 100% 83%  100% 80% │  │
│  └───────────────────────────────┘  │
│                                      │
│  🎁 获得奖励                         │
│  · 旅行积分：+380 分                 │
│  · 解锁徽章：「旅行达人」            │
│                                      │
│  💭 旅行感言（可选）                  │
│  ┌───────────────────────────────┐  │
│  │ 记录这次旅行的美好回忆...       │  │
│  └───────────────────────────────┘  │
│                                      │
│  ┌─────────────────────────────┐    │
│  │        完成，存入历史         │    │
│  └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

---

## 旅行徽章系统

### 旅行专属徽章

| 徽章名称 | 图标 | 获取条件 | 稀有度 |
| --- | --- | --- | --- |
| 首次出行 | ✈️ | 首次完成旅行行程 | 普通 |
| 完美旅程 | 🌟 | 行程100%完成 | 稀有 |
| 旅行达人 | 🎒 | 累计完成3次旅行 | 稀有 |
| 环球旅行家 | 🌍 | 累计完成10次旅行 | 史诗 |
| 时间管理大师 | ⏰ | 单次旅行完成20+目标 | 史诗 |
| 旅行规划师 | 📋 | 创建并分享5个旅行模板 | 传说 |

---

## 历史记录

### 旅行历史

在历史统计页面增加「旅行记录」标签：

- 📅 旅行时间轴：展示所有旅行记录

- 📊 行程完成率统计

- 🏅 旅行徽章收集进度

- 📈 旅行积分累计

### 行程存档

每次旅行结束后，完整行程自动存档，可随时查看回顾。

---

## 设计原则总结

✅ **独立共存**：度假模式与常规模式完全独立，互不影响✅ **时间驱动**：以时间节点为核心的行程安排✅ **灵活结构**：支持多日程、多目标的自由组合✅ **自由切换**：随时在两个模式间切换，无任何限制✅ **清晰可视**：时间轴展示，一目了然✅ **完整记录**：旅行数据存档，美好回忆留存✅ **陪伴感十足**：猫咪一起去旅行，增加趣味性