# settings-panel Specification Delta

## ADDED Requirements

### Requirement: 开发者模式解锁机制

系统 **SHALL** 实现隐藏的开发者模式解锁机制，通过彩蛋方式触发。

#### Scenario: 彩蛋触发

**GIVEN** 用户在「数据管理」页面的「偏好设置」区域
**WHEN** 用户在 2 秒内快速点击 10 次
**THEN** 系统弹出密码输入框

#### Scenario: 密码验证成功

**GIVEN** 密码输入框已弹出
**WHEN** 用户输入 `jixiangac` 并确认
**THEN** 系统应当：
- 开启开发者模式
- 将解锁状态持久化到 localStorage（key: `dc_developer_mode`）
- 显示 Toast 提示「开发者模式已开启」
- 关闭输入框

#### Scenario: 密码验证失败

**GIVEN** 密码输入框已弹出
**WHEN** 用户输入错误密码并确认
**THEN** 系统应当：
- 显示错误提示
- 保持输入框打开
- 不改变开发者模式状态

#### Scenario: 点击计数重置

**GIVEN** 用户开始快速点击
**WHEN** 距离第一次点击超过 2 秒但未达到 10 次
**THEN** 系统重置点击计数器

### Requirement: 开发者模式关闭入口

系统 **SHALL** 在开发者模式开启后提供关闭入口。

#### Scenario: 显示关闭入口

**GIVEN** 开发者模式已开启
**WHEN** 用户打开「数据管理」页面
**THEN** 显示「关闭调试」条目

#### Scenario: 关闭开发者模式

**GIVEN** 「关闭调试」条目可见
**WHEN** 用户点击「关闭调试」
**THEN** 系统应当：
- 关闭开发者模式
- 更新 localStorage 状态
- 显示 Toast 提示「调试模式已关闭」
- 隐藏所有调试相关入口

### Requirement: 调试入口可见性控制

系统 **SHALL** 根据开发者模式状态控制调试相关入口的可见性。

#### Scenario: 开发者模式关闭时

**GIVEN** 开发者模式未开启
**WHEN** 用户打开设置面板
**THEN** 以下入口不可见：
- 「日期测试」
- 「灵玉调试」
- 「修为调试」
- 「关闭调试」

#### Scenario: 开发者模式开启时

**GIVEN** 开发者模式已开启
**WHEN** 用户打开设置面板
**THEN** 以下入口可见：
- 「日期测试」
- 「灵玉调试」
- 「修为调试」
- 「关闭调试」

### Requirement: 灵玉调试页面

系统 **SHALL** 在开发者模式下提供灵玉数量直接设置页面。

#### Scenario: 灵玉调试页面入口

**GIVEN** 开发者模式已开启
**WHEN** 用户点击「灵玉调试」入口
**THEN** 跳转到灵玉调试子页面

#### Scenario: 灵玉调试页面内容

**GIVEN** 用户进入灵玉调试页面
**WHEN** 页面渲染完成
**THEN** 显示：
- 当前灵玉余额
- 数字输入框（可直接设置目标值）
- 快捷按钮：+100、+500、+1000、-100、归零

### Requirement: 修为调试页面

系统 **SHALL** 在开发者模式下提供修为数值直接设置页面。

#### Scenario: 修为调试页面入口

**GIVEN** 开发者模式已开启
**WHEN** 用户点击「修为调试」入口
**THEN** 跳转到修为调试子页面

#### Scenario: 修为调试页面内容

**GIVEN** 用户进入修为调试页面
**WHEN** 页面渲染完成
**THEN** 显示：
- 当前修为值
- 当前等级名称
- 数字输入框（可直接设置目标修为）
- 等级变化预览（当前等级 → 目标等级）
